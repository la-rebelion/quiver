"use strict";(self.webpackChunkquiver=self.webpackChunkquiver||[]).push([[978],{5815:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>p,contentTitle:()=>u,default:()=>h,frontMatter:()=>k,metadata:()=>d,toc:()=>c});var n=s(7462),a=(s(7294),s(3905)),r=s(2004),l=s.n(r),o=s(4866),i=s(5162);const k={sidebar_label:"Kubernetes Distros",sidebar_position:2,title:"Install Kubernetes Distros: k0s, k3s, microk8s, and Minikube",description:"Installation of Popular Kubernetes Distros: k0s, k3s, microk8s, and Minikube",keywords:["kubernetes","install","k0s","k3s","microk8s","minikube"],preview:"/img/og-images/install-kubernetes-distros.png"},u="Steps to Install Popular Kubernetes Distros",d={unversionedId:"kubernetes/installation/kubernetes-distros-installation",id:"kubernetes/installation/kubernetes-distros-installation",title:"Install Kubernetes Distros: k0s, k3s, microk8s, and Minikube",description:"Installation of Popular Kubernetes Distros: k0s, k3s, microk8s, and Minikube",source:"@site/docs/kubernetes/installation/kubernetes-distros-installation.mdx",sourceDirName:"kubernetes/installation",slug:"/kubernetes/installation/kubernetes-distros-installation",permalink:"/es/kubernetes/installation/kubernetes-distros-installation",draft:!1,tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_label:"Kubernetes Distros",sidebar_position:2,title:"Install Kubernetes Distros: k0s, k3s, microk8s, and Minikube",description:"Installation of Popular Kubernetes Distros: k0s, k3s, microk8s, and Minikube",keywords:["kubernetes","install","k0s","k3s","microk8s","minikube"],preview:"/img/og-images/install-kubernetes-distros.png"},sidebar:"tutorialSidebar",previous:{title:"Install Kubernetes in Ubuntu 22.04",permalink:"/es/kubernetes/installation/k8s-docker-install-offline"},next:{title:"Kubernetes-Security",permalink:"/es/category/kubernetes-security"}},p={},c=[{value:"References and Resources",id:"references-and-resources",level:2},{value:"Let&#39;s innovate together! \ud83c\udf1f\ud83d\udca1",id:"lets-innovate-together-",level:2},{value:"Bonus",id:"bonus",level:3}],b={toc:c},m="wrapper";function h(e){let{components:t,...r}=e;return(0,a.kt)(m,(0,n.Z)({},b,r,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"steps-to-install-popular-kubernetes-distros"},"Steps to Install Popular Kubernetes Distros"),(0,a.kt)("p",null,"We'll explore the installation process of each distro, enjoy the journey through creating Kubernetes clusters using some bash scripts I created for you! Download the scripts below. \ud83d\udc47\ud83c\udffd"),(0,a.kt)("p",null,"I decided to use plain bash scripts to remove any additional complexity in installing Ansible, Terraform, Argo, or other tools and external dependencies like Python, or external libraries, which also would remove the fat that consumes extra resources: CPU, RAM, and disk space that you may need to install the distros."),(0,a.kt)(l(),{playing:!0,controls:!0,url:"https://youtu.be/U5gsp3rO5A0",mdxType:"ReactPlayer"}),(0,a.kt)("p",null,"Click on each of the tabs to complete the whole installation. I have tried to separated each tab depending on the different goals."),(0,a.kt)("p",null,"Follow the video above for specifics."),(0,a.kt)("hr",null),(0,a.kt)(o.Z,{mdxType:"Tabs"},(0,a.kt)(i.Z,{value:"k0s-master",label:"K0s Master",default:!0,mdxType:"TabItem"},(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"# download the K0s binary\ncurl -sSLf https://get.k0s.sh | sudo sh\n# install K0s\nk0s install controller --enable-worker\nsystemctl daemon-reload\nk0s start\n# check the status\nk0s status\nk0s kubectl get nodes\nwatch 'k0s kubectl get pod --all-namespaces'\nk0s kubectl get nodes\n# create a token to join workers to the cluster\nk0s token create --role=worker > token-file\n"))),(0,a.kt)(i.Z,{value:"k0s-worker",label:"K0s Worker",mdxType:"TabItem"},(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"# download the K0s binary\ncurl -sSLf https://get.k0s.sh | sudo sh\n# install K0s\nk0s install worker --token-file token-file\nsystemctl daemon-reload\nk0s start\n# check the status\nk0s status\n"))),(0,a.kt)(i.Z,{value:"k3s-master",label:"K3s Master",mdxType:"TabItem"},(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"# install K3s\ncurl -sfL https://get.k3s.io | sh - \n# Check for Ready node, takes ~30 seconds \nk3s kubectl get nodes \n# Check for Ready pod, takes ~60 seconds\nwatch 'k3s kubectl get pod --all-namespaces'\n# get the token to join workers to the cluster\ncat /var/lib/rancher/k3s/server/node-token\n"))),(0,a.kt)(i.Z,{value:"k3s-worker",label:"K3s Worker",mdxType:"TabItem"},(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},'curl -sfL https://get.k3s.io | K3S_URL=https://k3s1-rebelion:6443 K3S_TOKEN=mynodetoken INSTALL_K3S_EXEC="agent" sh -\n\n#agent node is not joining the cluster - Workaround:\nsudo systemctl stop k3s\n#start the agent in the background\nsudo k3s agent --server https://k3s1-rebelion:6443 -t mynodetoken --disable-apiserver-lb > /dev/null 2>&1 &\n'))),(0,a.kt)(i.Z,{value:"microk8s-master",label:"Microk8s Master",mdxType:"TabItem"},(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"# install snapd\napt update\napt install snapd\n# install microk8s\nsnap install microk8s --classic\n# Run the command and store the output\njoin_command=$(microk8s add-node | tail -n 1) \necho $join_command --worker\n"))),(0,a.kt)(i.Z,{value:"microk8s-worker",label:"Microk8s Worker",mdxType:"TabItem"},(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"#install snapd\nsudo apt update\nsudo apt install snapd\n#install microk8s\nsudo snap install microk8s --classic\n#join the cluster, with output from the previous step\nsudo $join_command\n\nmicrok8s kubectl get nodes\n"))),(0,a.kt)(i.Z,{value:"minikube",label:"Minikube",mdxType:"TabItem"},(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"multipass")," provides a VM image with minikube pre-installed, so we can use it to\ncreate a VM with minikube pre-installed."),(0,a.kt)("p",null,"The bad news is that ",(0,a.kt)("inlineCode",{parentName:"p"},"minikube")," VM image requires at least 2 CPUs, 4GB of RAM,\nand 40GB of disk space, huge compared to the other distros! \ud83d\udc33"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"# create the VM with minikube pre-installed\nmultipass launch --name minikube-rebelion -c 2 -m 4G -d 40G minikube\nmultipass exec minikube-rebelion -- minikube start --nodes 3 -p la-rebelion-cluster\n")))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Don't forget to like the video and share if you learned somemthing useful.")," \ud83e\udd13"),(0,a.kt)("p",null,"\ud83d\udc27 Enjoy coding, enjoy life, go Rebels! \u270a\ud83c\udffd \u2601\ufe0f \ud83d\ude80 "),(0,a.kt)("h2",{id:"references-and-resources"},"References and Resources"),(0,a.kt)("p",null,"\ud83d\udcd6 ",(0,a.kt)("em",{parentName:"p"},"La Rebelion")," ",(0,a.kt)("a",{parentName:"p",href:"https://rebelion.la/"},"Blog"),". \u270a\ud83c\udffd",(0,a.kt)("br",{parentName:"p"}),"\n","\ud83d\udcfd\ufe0f ",(0,a.kt)("a",{parentName:"p",href:"https://go.rebelion.la/kubernetes-distros-installation-video"},"Full video"),(0,a.kt)("br",{parentName:"p"}),"\n","\ud83d\udc49 ",(0,a.kt)("a",{parentName:"p",href:"https://go.rebelion.la/subscribe"},'Subscribe to "La Rebelion" community')," for more tech insights, tutorials, and breakthroughs.",(0,a.kt)("br",{parentName:"p"}),"\n","\ud83d\udcbb ",(0,a.kt)("a",{parentName:"p",href:"https://go.rebelion.la/k1st"},"K1s Terminal")," simplifies Kubernetes and Cloud-Native Operations."),(0,a.kt)("h2",{id:"lets-innovate-together-"},"Let's innovate together! \ud83c\udf1f\ud83d\udca1"),(0,a.kt)("h3",{id:"bonus"},"Bonus"),(0,a.kt)("p",null,"You can also dowload the scripts I created based on the lab you just completed above."),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{target:"_blank",href:s(2352).Z},"kubernetes-distros-install-scripts.zip")," - All the scripts in a zip file"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{target:"_blank",href:s(5762).Z},"kubernetes-distros-installation.sh")," - The main script"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{target:"_blank",href:s(1681).Z},"_k0s-master.sh")," - The k0s Master node script"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{target:"_blank",href:s(3962).Z},"_k0s-worker.sh")," - The k0s Worker node script"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{target:"_blank",href:s(5783).Z},"_k3s-master.sh")," - The k3s Master node script"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{target:"_blank",href:s(2085).Z},"_k3s-worker.sh")," - The k3s Worker node script"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{target:"_blank",href:s(295).Z},"_microk8s-server.sh")," - The microk8s Master node script"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{target:"_blank",href:s(561).Z},"_microk8s-worker.sh")," - The microk8s Worker node script"),(0,a.kt)("li",{parentName:"ul"},"Minikube - Included in the main script")))}h.isMDXComponent=!0},1681:(e,t,s)=>{s.d(t,{Z:()=>n});const n=s.p+"assets/files/_k0s-master-42e25287ab77eb8d9e4f7e804d4bf37f.sh"},3962:(e,t,s)=>{s.d(t,{Z:()=>n});const n=s.p+"assets/files/_k0s-worker-ad383fc3fd48f517efbea7b4e8b47913.sh"},5783:(e,t,s)=>{s.d(t,{Z:()=>n});const n=s.p+"assets/files/_k3s-master-fc5bc347b8425ababa72a5f81230688a.sh"},2085:(e,t,s)=>{s.d(t,{Z:()=>n});const n=s.p+"assets/files/_k3s-worker-de30367d90fd149d1e632308750a9f0d.sh"},295:(e,t,s)=>{s.d(t,{Z:()=>n});const n=s.p+"assets/files/_microk8s-server-f517acfd08a80783ad6a24ee2ab31aff.sh"},561:(e,t,s)=>{s.d(t,{Z:()=>n});const n=s.p+"assets/files/_microk8s-worker-dba767a9391ec81689b6f66a514383ae.sh"},2352:(e,t,s)=>{s.d(t,{Z:()=>n});const n=s.p+"assets/files/kubernetes-distros-install-scripts-76f8a3fb387e9c33df78d88c42425104.zip"},5762:(e,t,s)=>{s.d(t,{Z:()=>n});const n=s.p+"assets/files/kubernetes-distros-installation-1592f2dca9f48959796c2ee4e275ee2d.sh"}}]);